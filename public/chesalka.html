<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ß–µ—Å–∞–ª–∫–∞ –Ø–π—Ü‚Ñ¢ 2.0</title>
  <style>
    body {
      font-family: Comic Sans MS, cursive, sans-serif;
      background: #ffeaa7;
      text-align: center;
      padding-top: 50px;
    }
    button {
      font-size: 24px;
      padding: 15px 30px;
      margin: 10px;
      background: #fd79a8;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }
    button:hover {
      background-color: #e84393;
    }
    #output {
      margin-top: 20px;
      font-size: 20px;
    }
    #stats {
      margin-top: 15px;
      font-size: 18px;
    }
    .store {
      margin-top: 30px;
      background: #fab1a0;
      padding: 20px;
      border-radius: 12px;
      display: inline-block;
    }
    .store h2 {
      margin-bottom: 10px;
    }
    .store button {
      display: block;
      margin: 8px auto;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>–°—É–ø–µ—Ä –ß–µ—Å–∞–ª–∫–∞ –Ø–π—Ü‚Ñ¢ 2.0 ü•ö</h1>
  <button onclick="chesat()">–ü–æ—á–µ—Å–∞—Ç—å!</button>
  <div id="output">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</div>
  <div id="stats">
    –ü–æ—á–µ—Å–∞–Ω–æ: <span id="count">0</span><br />
    –ó–∞ –∫–ª–∏–∫: <span id="perClick">1</span><br />
    –ü–∞—Å—Å–∏–≤–Ω–æ –≤ —Å–µ–∫—É–Ω–¥—É: <span id="passive">0</span>
  </div>

  <div class="store">
    <h2>üõí –£–ª—É—á—à–µ–Ω–∏—è</h2>
    <button onclick="buyUpgrade()">üí™ –£–≤–µ–ª–∏—á–∏—Ç—å –∑–∞ –∫–ª–∏–∫ (10 –º–æ–Ω–µ—Ç)</button>
    <button onclick="buyPassive()">üíº –ù–∞–Ω—è—Ç—å —á–µ—Å–∞–ª—å—â–∏–∫–∞ (25 –º–æ–Ω–µ—Ç)</button>
  </div>

  <script>
    let count = 0;
    let perClick = 1;
    let passiveIncome = 0;

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    window.onload = () => {
      if (localStorage.getItem("chesalkaSave")) {
        let save = JSON.parse(localStorage.getItem("chesalkaSave"));
        count = save.count || 0;
        perClick = save.perClick || 1;
        passiveIncome = save.passiveIncome || 0;
        updateUI();
      }
    };

    function chesat() {
      count += perClick;
      showMessage();
      updateUI();
      saveGame();
    }

    function buyUpgrade() {
      if (count >= 10) {
        count -= 10;
        perClick += 1;
        updateUI();
        saveGame();
      } else {
        alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ '–ü–æ—á–µ—Å–∞–Ω–æ' –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∑–∞ –∫–ª–∏–∫!");
      }
    }

    function buyPassive() {
      if (count >= 25) {
        count -= 25;
        passiveIncome += 1;
        updateUI();
        saveGame();
      } else {
        alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ '–ü–æ—á–µ—Å–∞–Ω–æ' –¥–ª—è –Ω–∞–π–º–∞ —á–µ—Å–∞–ª—å—â–∏–∫–∞!");
      }
    }

    function updateUI() {
      document.getElementById("count").textContent = count;
      document.getElementById("perClick").textContent = perClick;
      document.getElementById("passive").textContent = passiveIncome;
    }

    function saveGame() {
      const save = {
        count: count,
        perClick: perClick,
        passiveIncome: passiveIncome
      };
      localStorage.setItem("chesalkaSave", JSON.stringify(save));
    }

    function showMessage() {
      const messages = [
        "–ü–æ—á–µ—Å–∞–Ω–æ –º—è–≥–æ–Ω—å–∫–æ!",
        "–ï—â—ë –æ–¥–Ω–æ —è–π—Ü–æ –¥–æ–≤–æ–ª—å–Ω–æ–µ üòè",
        "–¢—ã –ø—Ä–æ—Ñ–∏ —á–µ—Å–∞–Ω–∏—è!",
        "–ß–µ—à–µ—Ç—Å—è, –∏ –Ω–µ —Å–ø—Ä–∞—à–∏–≤–∞–π –ø–æ—á–µ–º—É...",
        "–ß–µ—Å–∞–ª–∫–∞ 3000 –≤ –¥–µ–π—Å—Ç–≤–∏–∏!"
      ];
      const msg = messages[Math.floor(Math.random() * messages.length)];
      document.getElementById("output").textContent = msg;
    }

    // –ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
    setInterval(() => {
      if (passiveIncome > 0) {
        count += passiveIncome;
        updateUI();
        saveGame();
      }
    }, 1000);
  </script>
</body>
</html>
